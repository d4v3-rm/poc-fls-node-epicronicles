Ti propongo una **roadmap di sviluppo feature** basata sullâ€™SRS che abbiamo scritto, organizzata per fasi e milestone. Lâ€™idea Ã¨ arrivare a build giocabili il prima possibile, ampliando via via la profonditÃ .

---

## Stato roadmap 0.1.0-alpha

* **Fase 0** â€“ completata: architettura React/Three + store globale (ora Redux Toolkit) e loop simulazione funzionanti. [TAG]
* **Fase 1** â€“ completata: vertical slice di esplorazione con fog-of-war, navi scientifiche controllabili e mappa interattiva. [TAG]
* **Fase 2** â€“ in progresso: colonie e risorse base funzionano, restano distretti e popolazione avanzata.
* **Fasi 3+** â€“ non avviate.

---

## Fase 0 â€“ Fondamenta tecniche [TAG]

**Stato 0.1.0-alpha:** [TAG] completata (UI modulare, loop simulazione, Redux Toolkit + pannelli debug).

**Obiettivo:** avere una base tecnica stabile su cui innestare tutte le feature.

**Feature principali:**

* Architettura di base:

  * Moduli separati per: galassia, impero, IA, eventi, UI (RNF-MAN-01).
  * Sistema dati configurabile (file JSON/CSV/script) per parametri di bilanciamento (RNF-MAN-02).
* Gestione partita:

  * Menu principale con Nuova/Carica/Opzioni/Esci (RF-GAM-01).
  * Sistema di salvataggio/caricamento minimale (RF-GAM-03, RF-GAM-04).
* Loop di simulazione:

  * Tick di gioco + gestione tempo (pausa, velocitÃ ) (RF-UI-04, RNF-PERF-03).
* Infrastruttura debug:

  * Console interna/log eventi di sistema.
  * ModalitÃ  â€œgalassia di testâ€ per sviluppo rapido.

> **Risultato:** puoi caricare/creare una â€œpartita vuotaâ€ e vedere la simulazione avanzare, anche senza gameplay reale.

---

## Fase 1 â€“ Galassia + Esplorazione (vertical slice iniziale) [TAG]

**Stato 0.1.0-alpha:** [TAG] completata (mappa top-down, focus camera, fog-of-war, pannelli overview/colonie/sistema).

**Obiettivo:** prima build â€œgiocabileâ€ con mappa galattica ed esplorazione di base.

**Feature:**

* Generazione galassia:

  * Configurazione base: dimensione, numero stelle, numero imperi IA (stub) (RF-GAL-01).
  * Generazione procedurale sistemi + rotte FTL (RF-GAL-02, RF-GAL-05).
  * Attributi dei sistemi e corpi celesti (RF-GAL-03).
* Mappa galattica:

  * Visualizzazione sistemi, rotte, posizione impero giocatore (RF-UI-01).
  * Controlli camera (zoom/pan) e selezione sistema.
* Fog of war + esplorazione:

  * Stati: non scoperto / scoperto / esplorato (RF-GAL-04, RF-EXP-04).
  * 1 nave scientifica iniziale (RF-EXP-01).
  * Ordini: muoviti verso sistema, esplora sistema (RF-EXP-02, RF-EXP-03).
* UI di supporto:

  * Pannello info sistema (stella, pianeti, risorse note).
  * Riepilogo minimale impero (risorse a 0 o statiche).

> **Risultato:** build in cui ti muovi sulla galassia, scopri ed â€œesploriâ€ sistemi, ma senza ancora colonizzare o produrre.

---

## Fase 2 â€“ Economia base, Pianeti e Colonizzazione

**Obiettivo:** chiudere il primo â€œloop 4X lightâ€: esplora â†’ colonizza â†’ produci.

**Feature:**

* Risorse globali:

  * Implementazione energia, minerali, cibo, ricerca base, influenza (RF-IMP-RES-01).
  * Bilancio per tick + aggiornamento stock (RF-IMP-RES-02, RF-IMP-RES-03).
* Pianeti colonizzabili:

  * Attributi: tipo, dimensione, abitabilitÃ , modificatori (RF-IMP-PLA-01).
  * Nave colonia come unitÃ  costruibile o iniziale (RF-IMP-PLA-02).
   * [x] Ordine “colonizza pianeta” con selezione pianeta valido e coda lavori. [TAG]
* Gestione pianeta minimale:

  * Schermata dettaglio pianeta: nome, tipo, popolazione, output risorse (RF-IMP-PLA-04).
  * Distretti base: minerari, energetici, agricoli, abitativi (RF-IMP-STR-01).
  * Coda di costruzione distretti / edifici semplici (RF-IMP-STR-02).
  * Calcolo produzione/consumo per pianeta (RF-IMP-STR-03).
* Popolazione semplificata:

  * Pop come singola entitÃ  per pianeta o poche unitÃ , assegnate a lavori generici (RF-IMP-POP-01, RF-IMP-POP-02).
  * StabilitÃ /felicitÃ  inizialmente molto semplificate (RF-IMP-POP-03).

### Prossimi step operativi (Fase 2)

1. **Colonizzazione giocabile end-to-end**
   * [x] Implementare nave colonia iniziale + produzione in cantiere. [TAG]
   * [x] Ordine “colonizza pianeta” con selezione pianeta valido e coda lavori. [TAG]
   * [x] Aggiornare HUD/ColonyPanel per mostrare stati (in viaggio, colonizzazione, completato). [TAG]
2. **Distretti e produzione risorse**
   * âœ… Esporre nel dettaglio pianeta produzione netta (district + popolazione) con breakdown. [TAG]
   * Bilanciare costi/tempi di costruzione secondo `gameConfig`.
   * âœ… Aggiungere notifiche quando un distretto viene completato o sospeso per risorse insufficienti.
3. **Popolazione avanzata**
   * âœ… Automatizzare promozione/demozione in base alle necessitÃ  (prioritÃ  risorse).
   * âœ… Integrare stabilitÃ /felicitÃ  basilari con impatto sulla produzione totale.
4. **Fog of War / gating colonizzazione**
   * Impedire il colonizzare sistemi non esplorati/sondati e aggiornare la UI con motivazione.
   * Mantenere la possibilitÃ  di zoom globale ma bloccare il rendering dettagliato di pianeti non esplorati.
5. **UX pannelli economia**
   * [x] Inserire timeline costruzioni (Gantt semplice) e quick actions (annulla, priorita). [TAG]
   * [x] Migliorare readability delle card risorse con indicatori di surplus/deficit per tick. [TAG]

> **Risultato:** build in cui puoi esplorare, colonizzare, costruire distretti e vedere le risorse crescere/consumarsi â†’ primo vero â€œgiocoâ€.

---

## Fase 3 â€“ Flotte militari e Combattimento

**Obiettivo:** introdurre il conflitto militare base per chiudere il loop â€œExterminateâ€.

**Feature:**

* Classi di nave e cantieri:

  * Definizione classi: corvetta + (opzionale) fregata (RF-CMB-01).
  * Struttura cantiere/spazioporto sui pianeti o stazioni per costruire navi (RF-CMB-02).
* Flotte:

  * Creazione flotta, merge/split, assegnazione navi (RF-CMB-03). [TAG]
  * Varianti nave (template applicati in cantiere) per corvette di assalto/difesa. [TAG]
  * Ordini di movimento tra sistemi (giÃ  esistente per navi scientifiche, esteso alle flotte).
* Combattimento:

  * Trigger battaglia quando flotte nemiche si incontrano in un sistema (RF-CMB-04).
  * Sistema di risoluzione: confronto potenza dâ€™attacco, difesa, modificatori semplici (RF-CMB-05).
  * Riepilogo battaglia con perdite e risultato (RF-CMB-06).
* UI & feedback:

  * Icone flotte sulla mappa, indicatori di battaglia in corso (icone battaglia attiva + ring recenti). [TAG]
  * Notifiche per inizio/fine battaglie (RF-UI-05). [TAG]

> **Risultato:** build in cui puoi colonizzare, costruire flotte e combattere altre flotte (anche se lâ€™IA Ã¨ ancora rudimentale o scriptata).

---

## Fase 4 â€“ Multi-impero, IA base e Diplomazia minima

**Obiettivo:** passare da sandbox a vera partita contro avversari gestiti da IA.

**Feature:**

* Struttura multi-impero:

  * Rappresentazione di piÃ¹ imperi con proprietÃ  distinte (etica, colori, bandiera) (RF-DIP-01).
  * Gestione dei confini e controllo sistemi (RF-GAL-04).
* IA economica/militare di base:

  * IA che:

    * esplora (come il giocatore),
    * colonizza pianeti,
    * costruisce navi,
    * attacca obiettivi semplici (frontiera vicina).
* Stato relazioni:

  * Valore â€œopinioneâ€ tra imperi e suoi modificatori base (RF-DIP-02).
* Diplomazia minima:

  * Schermata diplomazia con info impero (RF-DIP-03).
  * Azioni: dichiarare guerra, proporre pace, accettare/rifiutare pace (RF-DIP-04, RF-DIP-06).
  * Logica IA per accettare/rifiutare trattati sulla base di opinione e forza militare (RF-DIP-05).
  * Journal guerra e notifiche:
    * badge HUD con count non letti e ultimo evento,
    * log eventi filtrabile (inizio/pace) con persistenza ultimo evento letto.
  * Flotte IA base:
    * targeting sistemi ostili prioritari e avoid target ciclici,
    * numero/potenza flotte scalati su minaccia galattica,
    * bonus nave IA (hull/attacco) in guerra.

> **Risultato:** build in cui la galassia Ã¨ abitata da imperi IA che esplorano, colonizzano, dichiarano guerra e firmano pace con logica base â†’ â€œpartita completaâ€ semplice.

---

## Fase 5 â€“ Tecnologia, Tradizioni e Progressione

**Obiettivo:** aggiungere profonditÃ  e senso di crescita a medio/lungo termine.

**Feature:**

* Sistema ricerca:

  * 3 rami (fisica/societÃ /ingegneria o equivalenti) (RF-TEC-01).
  * Generazione e assegnazione punti ricerca per ramo (RF-IMP-RES-01 + RF-TEC-02).
  * Schermata tech: tecnologie in corso, prerequisiti, stati (RF-TEC-04).
  * Effetti ricerche: sblocco edifici, moduli nave, bonus economici/militari (RF-TEC-03).
* Tradizioni / Perk:

  * Alberi â€œsoftâ€ (esplorazione, militare, economiaâ€¦) con bonus permanenti (RF-TEC-05).
  * Meccanica di accumulo punti â€œtradizioneâ€ legata a crescita impero.
* Integrazione con il resto:

  * Nuovi moduli nave per il combattimento (collegamento a RF-CMB-01/07).
  * Edifici e distretti avanzati per lâ€™economia (RF-IMP-STR-01/03).

> **Risultato:** build con vera progressione: la tua civiltÃ  si potenzia nel tempo e le scelte tecnologiche/tradizionali orientano lo stile di gioco.

---

## Fase 6 â€“ Eventi, Anomalie avanzate e Crisi

**Obiettivo:** dare varietÃ , narrazione emergente e una vera â€œfine partitaâ€.

**Feature:**

* Sistema eventi generico:

  * Modello dati per eventi con condizioni di trigger, testo, opzioni, effetti (RF-EVT-01, RF-EVT-02).
  * Log eventi consultabile (RF-EVT-04).
* Anomalie avanzate:

  * Migliorare il sistema di anomalie: tipi diversi, rischi, ricompense (RF-EXP-05 + RF-EVT-01/02).
  * Catene di eventi multi-step (RF-EVT-03).
* Crisi di fine partita:

  * Implementare almeno 1 tipo di crisi:

    * es. invasione esterna, IA impazzita, entitÃ  extradimensionale (RF-EVT-05).
  * Condizioni di spawn (late game), obiettivi, comportamento IA della crisi.
  * Impatto su diplomazia: temporaneo allineamento/alleanze contro la crisi (integrazione RF-DIP-06/07).
* Feedback:

  * Notifiche speciali, interfacce dedicate (map overlay per la crisi).

> **Risultato:** build che racconta una storia ogni partita, con sorprese, conseguenze delle scelte e una fase finale tesa e memorabile.

---

## Fase 7 â€“ UI/UX, Tutorial, Bilanciamento e Polish

**Obiettivo:** portare il prodotto a livello â€œreleaseâ€.

**Feature:**

* Miglioramenti UI/UX:

  * Pannelli piÃ¹ ergonomici, riduzione click per info chiave (RNF-USA-03).
  * Tooltip completi per elementi complessi (RNF-USA-01).
  * Filtri mappa raffinati, gestione notifiche configurabile (RF-UI-02, RF-UI-06).
* Tutorial e onboarding:

  * Scenario guidato con missioni step-by-step oppure system di suggerimenti contestuali (RNF-USA-02).
* Performance e stabilitÃ :

  * Profilazione late game, ottimizzazione IA e simulazione (RNF-PERF-01, RNF-PERF-03).
  * Robustezza salvataggi e gestione crash (RNF-AFF-01, RNF-AFF-02).
* Modding (se deciso):

  * Apertura di eventi/razze/tecnologie a file esterni (RNF-MOD-01).
* Rifinitura game design:

  * Bilanciamento costi, tempi, output risorse, potenza tecnologie.
  * Curve di difficoltÃ  per livelli di IA diversi.

> **Risultato:** build â€œrelease candidateâ€ con esperienza utente pulita, prestazioni accettabili e un ciclo di gioco completo e leggibile.

